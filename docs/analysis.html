<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data analysis – Data Analysis @ UoE LEL</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./assets/figs/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b635bb0e3b57b47a60f03ff50ee3dd10.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Analysis @ UoE LEL</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./stew.html"> 
<span class="menu-text">STeW</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./study-design.html"> 
<span class="menu-text">Study design</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-measures" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Measures</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-measures">    
        <li>
    <a class="dropdown-item" href="./measures/overview.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./measures/phonetics.html">
 <span class="dropdown-text">Phonetics</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="./analysis.html" aria-current="page"> 
<span class="menu-text">Data analysis</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-extra" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Extra</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-extra">    
        <li>
    <a class="dropdown-item" href="./extra/variable-types.html">
 <span class="dropdown-text">Variable types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./extra/analysis-checklist.html">
 <span class="dropdown-text">Analysis checklist</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./extra/falsifiable.html">
 <span class="dropdown-text">Falsificability</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./extra/regression-sheet.html">
 <span class="dropdown-text">Regression cheat sheet</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./skills.html"> 
<span class="menu-text">Skills</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./software.html"> 
<span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./support.html"> 
<span class="menu-text">Support</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">1</span> Overview</a></li>
  <li><a href="#beginners" id="toc-beginners" class="nav-link" data-scroll-target="#beginners"><span class="header-section-number">2</span> Beginners</a>
  <ul class="collapse">
  <li><a href="#data-wrangling-and-visualisation" id="toc-data-wrangling-and-visualisation" class="nav-link" data-scroll-target="#data-wrangling-and-visualisation"><span class="header-section-number">2.1</span> Data wrangling and visualisation</a></li>
  <li><a href="#statistical-modelling" id="toc-statistical-modelling" class="nav-link" data-scroll-target="#statistical-modelling"><span class="header-section-number">2.2</span> Statistical modelling</a>
  <ul class="collapse">
  <li><a href="#regression-models" id="toc-regression-models" class="nav-link" data-scroll-target="#regression-models"><span class="header-section-number">2.2.1</span> Regression models</a></li>
  </ul></li>
  <li><a href="#modelling-mindset" id="toc-modelling-mindset" class="nav-link" data-scroll-target="#modelling-mindset"><span class="header-section-number">2.3</span> Modelling mindset</a></li>
  <li><a href="#causal-inference" id="toc-causal-inference" class="nav-link" data-scroll-target="#causal-inference"><span class="header-section-number">2.4</span> Causal inference</a></li>
  </ul></li>
  <li><a href="#intermediate" id="toc-intermediate" class="nav-link" data-scroll-target="#intermediate"><span class="header-section-number">3</span> Intermediate</a>
  <ul class="collapse">
  <li><a href="#likert-scales" id="toc-likert-scales" class="nav-link" data-scroll-target="#likert-scales"><span class="header-section-number">3.1</span> Likert scales</a></li>
  <li><a href="#count-data-and-corpus-data" id="toc-count-data-and-corpus-data" class="nav-link" data-scroll-target="#count-data-and-corpus-data"><span class="header-section-number">3.2</span> Count data (and corpus data)</a></li>
  <li><a href="#categorical-multinomial-data-with-more-than-two-levels" id="toc-categorical-multinomial-data-with-more-than-two-levels" class="nav-link" data-scroll-target="#categorical-multinomial-data-with-more-than-two-levels"><span class="header-section-number">3.3</span> Categorical (multinomial) data with more than two levels</a></li>
  <li><a href="#dimensionality-reduction" id="toc-dimensionality-reduction" class="nav-link" data-scroll-target="#dimensionality-reduction"><span class="header-section-number">3.4</span> Dimensionality reduction</a></li>
  <li><a href="#time-series-and-coordinates" id="toc-time-series-and-coordinates" class="nav-link" data-scroll-target="#time-series-and-coordinates"><span class="header-section-number">3.5</span> Time series and coordinates</a></li>
  <li><a href="#bayesian-inference" id="toc-bayesian-inference" class="nav-link" data-scroll-target="#bayesian-inference"><span class="header-section-number">3.6</span> Bayesian inference</a></li>
  </ul></li>
  <li><a href="#advanced" id="toc-advanced" class="nav-link" data-scroll-target="#advanced"><span class="header-section-number">4</span> Advanced</a>
  <ul class="collapse">
  <li><a href="#power-analysis" id="toc-power-analysis" class="nav-link" data-scroll-target="#power-analysis"><span class="header-section-number">4.1</span> Power analysis</a></li>
  <li><a href="#multivariate-linear-models" id="toc-multivariate-linear-models" class="nav-link" data-scroll-target="#multivariate-linear-models"><span class="header-section-number">4.2</span> Multivariate linear models</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Overview</h1>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This page provides resources on how to <strong>analyse measurements</strong> (e.g.&nbsp;formant values, word counts, collexeme association metrics, semantic distance, etc.) you have obtained from your data.</p>
<p>For methods to <strong>obtain specialised measurements and metrics</strong> (e.g.&nbsp;formant values, word counts, collexeme association metrics, semantic distance, etc.), please check the (work-in-progress) <a href="./measures/overview.html">Measure</a> page.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>Disclaimer
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is not intended to be an exhaustive list, but rather a compendium of approaches and techniques that are currently gaining momentum across linguistic research. For specialised approaches, we recommend to consult methods books written with specific audiences in mind. Note that the methods presented here are general enough that they can be applied to a diverse range of data types.</p>
</div>
</div>
<p>There are several resources you can use to teach yourself quantitative data analysis skills, depending on your level. Don’t forget to also check <a href="./measures/overview.html">Measures</a> and the <a href="./skills.html">Skills</a> page, for more general research-related skills.</p>
<p>You should also check out the <a href="./stew.html">Statistical Training Workshop</a> (STeW) series: most workshops have been recorded and the link to the video is available on that page.</p>
</section>
<section id="beginners" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Beginners</h1>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Terminology in applied statistics tends to be unruly</strong>, so that one same thing can have different names in different disciplines and vice versa one same name can mean different things. We tried here to use a terminological set that is as “neutral” as possible, although we recognise the limitations of this approach. Where relevant, we note alternative terms and their uses.</p>
</div>
</div>
<p>The following resources are suitable for beginners who want to learn <strong>quantitative data analysis from scratch</strong>.</p>
<section id="data-wrangling-and-visualisation" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="data-wrangling-and-visualisation"><span class="header-section-number">2.1</span> Data wrangling and visualisation</h2>
<blockquote class="blockquote">
<p>The simple graph has brought more information to the data analyst’s mind than any other device.</p>
<p>—John Tukey</p>
</blockquote>
<p><a href="https://r4ds.had.co.nz/wrangle-intro.html">Data wrangling</a> is about getting your data into a useful format for <a href="https://r4ds.had.co.nz/data-visualisation.html">visualisation</a> and <a href="https://r4ds.had.co.nz/model-intro.html">modelling</a>.</p>
<p>The programming languages <strong>Python and R</strong> are two very common languages used for data analysis.</p>
<p><strong>Python</strong> is a general-purpose programming language while <strong>R</strong> is specifically developed for statistical analysis and visualisation. Most academic research uses R for data analysis, although Python is also employed especially for data processing.</p>
<p>If you want to teach yourself R, the following resources are an excellent place to start from:</p>
<ul>
<li><p>The <a href="https://r4ds.had.co.nz">R for Data Science</a> (R4DS) free online book is an excellent introduction to R and quantitative data analysis.</p></li>
<li><p>The <a href="https://datavizcatalogue.com/index.html">Data Visualisation Catalogue</a> is a project developed by Severino Ribecca to create a (non-code-based) library of different information visualisation types. The website serves as a learning and inspirational resource for those working with data visualisation.</p></li>
<li><p>The workshop <a href="https://intro-rstats.github.io">intRo: Data Analysis with R</a> introduces absolute beginners from the Humanities to R, quantitative data analysis and visualisation. Check out the videos on YouTube: <a href="https://youtube.com/playlist?list=PLiqxyEAY_i3nqPb2bp2zufXgPoFk8Tum9">videos</a>. You can find the materials and slides here: <a href="https://intro-rstats.github.io/intRo/">materials</a> and <a href="https://intro-rstats.github.io/intro-slides/">slides</a>.</p></li>
</ul>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Joining and pivoting data
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Most data wrangling problems can be solved with the following sets of R tidyverse functions (of course if you use Python or other languages, feel free to use their equivalents): <a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">mutating joins</a> and <a href="https://tidyr.tidyverse.org/articles/pivot.html">pivoting</a>.</p>
<ul>
<li><p><strong>Mutating joins</strong> allow you to join two or more tibbles together so that you can include information from one tibble into another (for example, if you have participant info in one tibble and you want to join that with the main experiment results tibble). See here for a <a href="https://github.com/gadenbuie/tidyexplain#mutating-joins">visual representation of join operations</a>.</p></li>
<li><p><strong>Pivoting</strong> makes it easy to transform a data table that has all the information you need but not in the right format (for example you have a two columns with the participant’s scores at time point 1 and 2, but you want one column that has the time point and one that has the score). See here for a <a href="https://github.com/gadenbuie/tidyexplain#tidy-data">visual representation of pivoting</a>.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="statistical-modelling" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="statistical-modelling"><span class="header-section-number">2.2</span> Statistical modelling</h2>
<blockquote class="blockquote">
<p>The numbers have no way of speaking for themselves. We speak for them. We imbue them with meaning.</p>
<p>—Nate Silver, <em>The Signal and the Noise</em></p>
</blockquote>
<p>Statistics and statistical modelling are about finding meaning in the patterns that can be observed in the data.</p>
<ul>
<li><p><a href="https://discovered.ed.ac.uk/permalink/44UOE_INST/7g3mt6/alma9924344853202466">Statistics for Linguists: An introduction using R</a> by Bodo Winter <span class="citation" data-cites="winter2020">(<a href="#ref-winter2020" role="doc-biblioref">Winter 2020</a>)</span> is ideal both for absolute beginners and experienced researchers. It is packed with everything you need to successfully and effectively conduct statistical analyses.</p></li>
<li><p><a href="https://discovered.ed.ac.uk/permalink/44UOE_INST/110jsec/alma9924362502302466">Statistical (Re)thinking</a> by Richard McElreath <span class="citation" data-cites="mcelreath2020">(<a href="#ref-mcelreath2020" role="doc-biblioref">McElreath 2020</a>)</span> is an excellent introduction for absolute beginners, by Richard McElreath, which covers a wide variety of linear models. It focusses on Bayesian inference and how this framework can help us directly answer research questions, assess evidence for different hypothesis, and quantify uncertainty. If you are familiar with the <a href="https://www.tidyverse.org">tidyverse</a>, the code from the <em>Statistical (Re)thinking</em> book has been translated into tidyverse by Solomon Kurz, and it can be accessed here: <a href="https://bookdown.org/content/4857/">Statistical rethinking with brms, ggplot2, and the tidyverse</a>.</p></li>
<li><p><a href="https://www.penguin.co.uk/books/294/294857/learning-from-data/9780241258767.html">The Art of Statistics: Learning from data</a> by David Spiegelhalter <span class="citation" data-cites="spiegelhalter2020">(<a href="#ref-spiegelhalter2020" role="doc-biblioref">Spiegelhalter 2020</a>)</span> uses real-world examples to explain principles of data visualisation and analysis. It touches upon a wide range of topics and disciplines, from communicating proportions, to probability and Bayesian inference, making it a great complement to the other books and resources mentioned here. If you just wish to dip your toes in statistics without committing (yet) to learning how to do statistics, this book is for you.</p></li>
<li><p><a href="https://arxiv.org/abs/1308.5499">Linear models and linear mixed effects models in R with linguistic applications</a> by Bodo Winter is a short and intense tutorial on linear models <span class="citation" data-cites="winter2013">(<a href="#ref-winter2013" role="doc-biblioref">Winter 2013</a>)</span>. The first part introduces you to Gaussian linear models and the second part to Gaussian linear models that include random effects (variably called mixed, hierarchical, nested models). <strong>Note</strong> that Gaussian linear models are not appropriate for the data of most linguistic research and you will have to learn and use other types of linear models.</p></li>
</ul>
<section id="regression-models" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="regression-models"><span class="header-section-number">2.2.1</span> Regression models</h3>
<blockquote class="blockquote">
<p>One model to rule them all, one model to fit them,<br> One model to shrink them all, and in probability bind them;<br> In the Land of Inference where the distributions lie.</p>
<p>—The Statistical Hobbit.</p>
</blockquote>
<p><strong>Regression models are a very flexible and relatively straightforward way to model and analyse quantitative data</strong>. They have gained momentum and are increasingly being adopted across the entire field of linguistics.</p>
<p>The main perk of learning regression models is that they <strong>can be applied to many different types of data</strong>, so that once you learn this approach you will be able to apply it to a lot of data analysis scenarios.</p>
<p>The resources mentioned above all focus on regression modelling, so whether you are just starting your statistical journey or you are an experienced researcher who wants to consolidate their understanding of regression modelling, those resources are right for you.</p>
<p>After you have learnt the basics, the <a href="./extra/regression-sheet.html">Regression models cheat-sheet</a> can guide you through the process of choosing among the appropriate types of models depending on the nature of your data. The post also lists tutorials on regression models that use other less common probability distribution families, like the beta, Poisson and ordinal.</p>
<p>Confused about all the model names? Check out <a href="https://stefanocoretta.github.io/post/2022-07-22-one-thousand-and-one-names/">this post</a> on how we don’t really need to use all of those names: they are all regression models!</p>
</section>
</section>
<section id="modelling-mindset" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="modelling-mindset"><span class="header-section-number">2.3</span> Modelling mindset</h2>
<p>We tend to think of statistics as a monolith, with prescribed recipes and well-established procedures. This is further from the truth: <span class="citation" data-cites="molnar2022">Molnar (<a href="#ref-molnar2022" role="doc-biblioref">2022</a>)</span> introduces beginners to different approaches to statistics (more precisely, to modelling data). Some approaches even use the same tools, but with very different aims.</p>
</section>
<section id="causal-inference" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="causal-inference"><span class="header-section-number">2.4</span> Causal inference</h2>
<p>“Correlation is not causation!”, you might have heard. Well, if you adopt a causal inference approach, then correlation can be causation. Causal inference allows researchers to select variables needed to estimate particular causal effects. One approach to causal inference is based on do-calculus and Directed Acyclic Graphs (DAGs). Causal inference is explained in <span class="citation" data-cites="mcelreath2020">McElreath (<a href="#ref-mcelreath2020" role="doc-biblioref">2020</a>)</span>, especially chapters 5 and 6. For a brief conceptual introduction, see <span class="citation" data-cites="mcelreath2021">McElreath (<a href="#ref-mcelreath2021" role="doc-biblioref">2021</a>)</span>.</p>
<hr>
</section>
</section>
<section id="intermediate" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Intermediate</h1>
<p>If you already have a basic understanding of quantitative data analysis, statistics and R, the following resources can help you develop your skills further.</p>
<section id="likert-scales" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="likert-scales"><span class="header-section-number">3.1</span> Likert scales</h2>
<p>Likert-scale data are quite common in many fields of linguistics. Likert scales are common especially in sociolinguistics work, for example in work that investigates attitudes: e.g.&nbsp;a 5-point scale “disagree, somewhat disagree, neutral, somewhat agree, agree”.</p>
<p>Likert-scale data special because they are categorical <em>and</em> ordered.</p>
<p>Ordered data must be modelled using the appropriate distribution, namely the <strong>cumulative distribution</strong>. <strong>Ordinal linear models</strong> are an extension of linear models that use the cumulative distribution to model ordinal data, like Likert-scale data.</p>
<p>For an excellent tutorial on how to fit ordinal linear models using brms applied to linguistics data, see <span class="citation" data-cites="verissimo2021">Verissimo (<a href="#ref-verissimo2021" role="doc-biblioref">2021</a>)</span>. You should also check out the more general tutorial <span class="citation" data-cites="burkner2019">Bürkner and Vuorre (<a href="#ref-burkner2019" role="doc-biblioref">2019</a>)</span>. A recording of the <a href="./stew.html">STeW</a> workshop on ordinal regression model is also available <a href="here">here</a>.</p>
</section>
<section id="count-data-and-corpus-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="count-data-and-corpus-data"><span class="header-section-number">3.2</span> Count data (and corpus data)</h2>
<p>Count data, like number of a particular construction in a corpus, number of interjection in a conversation, number of infant gestures, etc, should be modelled using a <strong>Poisson distribution</strong>.</p>
<p>See the tutorial by <span class="citation" data-cites="winter2021">Winter and Bürkner (<a href="#ref-winter2021" role="doc-biblioref">2021</a>)</span>.</p>
</section>
<section id="categorical-multinomial-data-with-more-than-two-levels" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="categorical-multinomial-data-with-more-than-two-levels"><span class="header-section-number">3.3</span> Categorical (multinomial) data with more than two levels</h2>
<p>When you are working with outcome variables that have more than two levels, and the levels are not ordered, you should fit a multinomial model using the <strong>categorical distribution</strong>.</p>
<p>See the <a href="./extra/regression-sheet.html#sec-disc">Regression cheat sheet</a>.</p>
</section>
<section id="dimensionality-reduction" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="dimensionality-reduction"><span class="header-section-number">3.4</span> Dimensionality reduction</h2>
<p>If your data is <strong>highly dimensional</strong>, i.e.&nbsp;<strong>you have a lot of different variables</strong> (some of which might even be correlated to each other), you can employ data dimensionality reduction techniques to “synthesise” all the variables into fewer variables that represent components, dimensions or clusters in the data.</p>
<p>These techniques can be used both (a) to find patterns or groupings in the data and to obtain measures that capture these patterns and groupings and (b) to simplify analyses from a set of 15/20 variables to 2/3 components or dimensions.</p>
<p>Note that once you have reduced your data to a few variables (components or dimensions), these can still be further analysed with the other techniques mentioned on this page.</p>
<ul>
<li><p>A common reduction technique is <strong>Principal Component Analysis</strong> (PCA). This method combines all of your variables into a limited set of numeric <em>principal components</em>. The scores of the principal components capture variation in the data and can be used for further analysis. You can learn how to carry out a PCA with <a href="http://www.sthda.com/english/articles/31-principal-component-methods-in-r-practical-guide/">this tutorial</a>. Also check out Functional Principal Component Analysis below.</p></li>
<li><p><strong>Multiple Correspondence Analysis</strong> (McA) is the discrete equivalent of PCA, i.e.&nbsp;it can be used with discrete/categorical variables. See <a href="http://www.sthda.com/english/articles/31-principal-component-methods-in-r-practical-guide/114-mca-multiple-correspondence-analysis-in-r-essentials/">this tutorial</a> for an introduction.</p></li>
<li><p>Another dimensionality reduction technique is <strong>Cluster Analysis</strong> (CA, aka hierarchical clustering). <a href="https://www.datanovia.com/en/blog/cluster-analysis-in-r-practical-guide/">This tutorial</a> guides you through a CA in R.</p></li>
</ul>
</section>
<section id="time-series-and-coordinates" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="time-series-and-coordinates"><span class="header-section-number">3.5</span> Time series and coordinates</h2>
<p><strong>Generalised Additive (Mixed) Models</strong> (GAMMs) are a flexible extension of linear models that allows us to fit non-linear effects. They are particularly useful with data that come from time series (e.g.&nbsp;f0 and formants, corpus occurrences across time, longitudinal data, etc.) and they can be employed with any kind of data that can be thought of as being represented on a coordinate space (e.g., geolocations, electroencephalographic (EEG) data, 3D tongue imaging, etc).</p>
<ul>
<li><p>The tutorial by <span class="citation" data-cites="soskuthy2017a">Sóskuthy (<a href="#ref-soskuthy2017a" role="doc-biblioref">2017</a>)</span> is an excellent introduction to Generalised Additive Mixed Models (GAMMs). Also see <span class="citation" data-cites="soskuthy2021">Sóskuthy (<a href="#ref-soskuthy2021" role="doc-biblioref">2021</a>)</span>.</p></li>
<li><p>Another excellent resource is <span class="citation" data-cites="pedersen2019">Pedersen et al. (<a href="#ref-pedersen2019" role="doc-biblioref">2019</a>)</span>. In particular, <a href="https://doi.org/10.7717/peerj.6876/fig-4">Figure 4</a> is a beautiful visual summary of how different types of trends and groupings can be modelled with GAMs.</p></li>
<li><p>The paper by <span class="citation" data-cites="tamminga2016">Tamminga, Ahern, and Ecay (<a href="#ref-tamminga2016" role="doc-biblioref">2016</a>)</span> advocates for the adoption of GAMMs to advance the use of naturalistic data for studying psycholinguistic questions about intra-speaker variation.</p></li>
</ul>
<p><strong>Functional Principal Component Analysis</strong> (FPCA) is another approach to modelling time-series data.</p>
<ul>
<li><a href="https://github.com/uasolo/FPCA-phonetics-workshop">Functional Data Analysis for Speech Research</a> by Michele Gubian is a collection of workshop materials on Functional Data Analysis with a focus on speech research data.</li>
</ul>
</section>
<section id="bayesian-inference" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="bayesian-inference"><span class="header-section-number">3.6</span> Bayesian inference</h2>
<ul>
<li><p>The overview by <span class="citation" data-cites="etz2018">Etz et al. (<a href="#ref-etz2018" role="doc-biblioref">2018</a>)</span>, <em>How to become a Bayesian in eight easy steps: An annotated reading list</em>, is a good place to start from if you want to learn more about Bayesian statistics and inference.</p></li>
<li><p>For an more practice-oriented introduction, you should read <span class="citation" data-cites="mcelreath2020">McElreath (<a href="#ref-mcelreath2020" role="doc-biblioref">2020</a>)</span>.</p></li>
<li><p>The <a href="https://learnb4ss.github.io">learnB4SS</a> workshop is an introduction to <strong>Bayesian analysis for the Speech Sciences</strong>. It requires familiarity with linear models and Null Hypothesis Significance Testing.</p></li>
</ul>
<hr>
</section>
</section>
<section id="advanced" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Advanced</h1>
<section id="power-analysis" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="power-analysis"><span class="header-section-number">4.1</span> Power analysis</h2>
<p>Power analysis is a fundamental, although often neglected, step in Null Hypothesis Significance Testing (the statistical framework that returns <em>p</em>-values). A power analysis is a method to estimate the minimum sample size necessary to detect a particular effect. The statistical power of a test is the percentage of tests that correctly detect an effect when the effect indeed exists. The recommended statistical power is 80% or greater.</p>
<p>Power analyses with linear models can become quite complex, especially if random effects are included. Simulation is a way to simplify the calculations necessary to find the minimum sample size. <strong>The R package <a href="https://github.com/pitakakariki/simr">simr</a> provides users with a set of functions to perform a power analysis with linear models using simulations.</strong> You can find a <a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/2041-210X.12504">tutorial here</a>.</p>
<p>If you are running <strong>Bayesian linear models, you can check out this post on <a href="https://stefanocoretta.github.io/post/2022-04-05-bayesian-ci-width-power-analysis/">Bayesian CrI-width power analysis</a></strong>.</p>
</section>
<section id="multivariate-linear-models" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="multivariate-linear-models"><span class="header-section-number">4.2</span> Multivariate linear models</h2>
<p><span class="citation" data-cites="burkner2024a">Bürkner (<a href="#ref-burkner2024a" role="doc-biblioref">2024</a>)</span> explains how to fit linear models with two or more outcome variables (i.e.&nbsp;multivariate models) using <a href="#0">brms</a>.</p>
</section>
<section id="references" class="level2 unnumbered">




</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-burkner2024a" class="csl-entry" role="listitem">
Bürkner, Paul-Christian. 2024. <span>“Estimating Multivariate Models with Brms.”</span> <a href="https://cran.r-project.org/web/packages/brms/vignettes/brms_multivariate.html">https://cran.r-project.org/web/packages/brms/vignettes/brms_multivariate.html</a>.
</div>
<div id="ref-burkner2019" class="csl-entry" role="listitem">
Bürkner, Paul-Christian, and Matti Vuorre. 2019. <span>“Ordinal Regression Models in Psychology: A Tutorial.”</span> <em>Advances in Methods and Practices in Psychological Science</em> 2 (1): 77101. <a href="https://doi.org/10.1177/2515245918823199">https://doi.org/10.1177/2515245918823199</a>.
</div>
<div id="ref-etz2018" class="csl-entry" role="listitem">
Etz, Alexander, Quentin F. Gronau, Fabian Dablander, Peter A. Edelsbrunner, and Beth Baribault. 2018. <span>“How to Become a Bayesian in Eight Easy Steps: An Annotated Reading List.”</span> <em>Psychonomic Bulletin &amp; Review</em> 25 (1): 219234. <a href="https://doi.org/10.3758/s13423-017-1317-5">https://doi.org/10.3758/s13423-017-1317-5</a>.
</div>
<div id="ref-mcelreath2020" class="csl-entry" role="listitem">
McElreath, Richard. 2020. <em>Statistical Rethinking: A Bayesian Course with Examples in R and Stan</em>. Second edition. Chapman &amp; Hall/CRC Texts in Statistical Science Series. Boca Raton: CRC Press.
</div>
<div id="ref-mcelreath2021" class="csl-entry" role="listitem">
———. 2021. <span>“Regression, Fire, and Dangerous Things (Parts 1, 2, 3).”</span> <a href="https://elevanth.org/blog/2021/06/15/regression-fire-and-dangerous-things-1-3/">https://elevanth.org/blog/2021/06/15/regression-fire-and-dangerous-things-1-3/</a>.
</div>
<div id="ref-molnar2022" class="csl-entry" role="listitem">
Molnar, Christoph. 2022. <em>Modeling Mindsets: The Many Cultures of Learning from Data</em>. MUCBOOK.
</div>
<div id="ref-pedersen2019" class="csl-entry" role="listitem">
Pedersen, Eric J., David L. Miller, Gavin L. Simpson, and Noam Ross. 2019. <span>“Hierarchical Generalized Additive Models in Ecology: An Introduction with Mgcv.”</span> <em>PeerJ</em> 7: e6876. <a href="https://doi.org/10.7717/peerj.6876">https://doi.org/10.7717/peerj.6876</a>.
</div>
<div id="ref-soskuthy2017a" class="csl-entry" role="listitem">
Sóskuthy, Márton. 2017. <span>“Generalised Additive Mixed Models for Dynamic Analysis in Linguistics: A Practical Introduction.”</span> arXiv. <a href="https://doi.org/10.48550/arXiv.1703.05339">https://doi.org/10.48550/arXiv.1703.05339</a>.
</div>
<div id="ref-soskuthy2021" class="csl-entry" role="listitem">
———. 2021. <span>“Evaluating Generalised Additive Mixed Modelling Strategies for Dynamic Speech Analysis.”</span> <em>Journal of Phonetics</em> 84: 101017. <a href="https://doi.org/10.1016/j.wocn.2020.101017">https://doi.org/10.1016/j.wocn.2020.101017</a>.
</div>
<div id="ref-spiegelhalter2020" class="csl-entry" role="listitem">
Spiegelhalter, David J. 2020. <em>The art of statistics: learning from data</em>. Published in paperback. Pelican.
</div>
<div id="ref-tamminga2016" class="csl-entry" role="listitem">
Tamminga, Meredith, Christopher Ahern, and Aaron Ecay. 2016. <span>“Generalized Additive Mixed Models for Intraspeaker Variation.”</span> <em>Linguistics Vanguard</em> 2 (s1): 3341. <a href="https://doi.org/10.1515/lingvan-2016-0030">https://doi.org/10.1515/lingvan-2016-0030</a>.
</div>
<div id="ref-verissimo2021" class="csl-entry" role="listitem">
Verissimo, Joao. 2021. <span>“Analysis of Rating Scales: A Pervasive Problem in Bilingualism Research and a Solution with Bayesian Ordinal Models.”</span> <em>Bilingualism: Language and Cognition</em> 24 (5): 842848. <a href="https://doi.org/10.1017/S1366728921000316">https://doi.org/10.1017/S1366728921000316</a>.
</div>
<div id="ref-winter2013" class="csl-entry" role="listitem">
Winter, Bodo. 2013. <span>“Linear Models and Linear Mixed Effects Models in <span>R</span> with Linguistic Applications.”</span> <a href="https://arxiv.org/abs/1308.5499" class="uri">https://arxiv.org/abs/1308.5499</a>; arXiv. <a href="https://arxiv.org/abs/1308.5499">https://arxiv.org/abs/1308.5499</a>.
</div>
<div id="ref-winter2020" class="csl-entry" role="listitem">
———. 2020. <em>Statistics for Linguists: An Introduction Using r</em>. Routledge.
</div>
<div id="ref-winter2021" class="csl-entry" role="listitem">
Winter, Bodo, and Paul-Christian Bürkner. 2021. <span>“Poisson Regression for Linguists: A Tutorial Introduction to Modelling Count Data with Brms.”</span> <em>Language and Linguistics Compass</em> 15 (11): e12439. <a href="https://doi.org/10.1111/lnc3.12439">https://doi.org/10.1111/lnc3.12439</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>